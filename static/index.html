<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<title> OnTodo云备忘</title>

		<!--[if lt IE 9]>
		<script src="js/html5.js"></script>
		<![endif]-->

		<link rel="stylesheet" href="css/pure-min.css" />
		<link rel="stylesheet" href="plugins/bootstrap/css/bootstrap.min.css" />
		<link rel="stylesheet" href="css/style.css" />
	</head>
	<body>
		<div id="page_wrapper">
			<div id="page_main">
				<!-- to load a module -->
			</div>
			<footer id="page_footer">
				<div class="wrapper">
					<small>Copyright(c) 2013 OnTodo云备忘</small>
					<small>本地存储功暂不支持低版本的IE内核（<span class="deprecated">IE 6/7</span>）</small>
				</div>
			</footer>
		</div>

		<script src="js/json2.js"></script>
		<script src="js/jquery-1.10.2.min.js"></script>
		<script src="js/underscore-min.js"></script>
		<script src="js/backbone.js"></script>
		<script src="plugins/bootstrap/js/bootstrap.min.js"></script>
		<script>
			var $page_main = $('#page_main'), $page_wrapper = $('#page_wrapper');
			$page_main.load('modules/todo.html', function() {
				$page_wrapper.show();
			});
			
			_.extend(_, {
				strWidth: function(str){
					return _.reduce(str, function(totalWidth, ch){
						// Chinese has two times width
						var width = /[^x00-xff]/.test(ch)? 2: 1;
						return totalWidth + width;
					}, 0);
				},
				
				formatDate: function(date){
					var month = date.getMonth() + 1,
					    ddate = date.getDate(),
					    hours = date.getHours(),
					    minutes = date.getMinutes();
					month = (month<10? '0': '') + month;
					ddate = (ddate<10? '0': '') + ddate;
					hours = (hours<10? '0': '') + hours;
					minutes = (minutes<10? '0': '') + minutes;
					return [month, '-', ddate, '  ', hours, ':', minutes].join('');
		        }
			})
		</script>
	</body>
</html>